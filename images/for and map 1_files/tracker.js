!function(){"use strict";let t=window.fathom.q||[],e={siteId:"",spa:!1,trackerUrl:"https://img3.usefathom.com/collector"};const n={set:o,trackPageview:function(t){i({},"pageview")},trackGoal:function(t,e){i({gcode:t,gval:e},"goal")},setTrackerUrl:function(t){return o("trackerUrl","https://img3.usefathom.com"),"https://img3.usefathom.com"}};function o(t,n){if(e[t]=n,"spa"==t)if("pushstate"==n&&void 0!==history){var o=history.pushState;history.pushState=function(){var t=o.apply(history,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t};var a=history.replaceState;history.replaceState=function(){var t=a.apply(history,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t},window.addEventListener("popstate",function(){window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("locationchange",function(){fathom("trackPageview")})}else"hash"==n&&window.addEventListener("hashchange",function(){fathom("trackPageview")})}function a(t){return"?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function i(t,n){if(t=t||{},"visibilityState"in document&&"prerender"===document.visibilityState)return;if(/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))return;if(null===document.body)return void document.addEventListener("DOMContentLoaded",()=>{i(t,n)});let o=window.location;if(""===o.host)return;let r=document.querySelector('link[rel="canonical"][href]');if(r){let t=document.createElement("a");t.href=r.href,o=t}let c=t.path||o.pathname+o.search;c||(c="/"),"hash"==e.spa&&""!==window.location.hash.substr(1)&&(c="/"+window.location.hash);let s=t.hostname||o.protocol+"//"+o.hostname,d=t.referrer||"";document.referrer.indexOf(s)<0&&(d=document.referrer);const h={p:c,h:s,r:d,sid:e.siteId,tz:Intl.DateTimeFormat().resolvedOptions().timeZone};if("goal"==n)h.gcode=t.gcode,h.gval=t.gval,navigator.sendBeacon("https://img3.usefathom.com/collector/event"+a(h));else{let t=document.getElementById("fathom-script");t&&(h.dash=t.src.replace("/tracker.js",""),h.dash.indexOf("cdn.usefathom.com")>-1&&(h.dash=null));let n=e.trackerUrl+"/scooby",o=document.createElement("img");o.setAttribute("alt",""),o.setAttribute("aria-hidden","true"),o.style.position="absolute",o.src=n+a(h),o.addEventListener("load",function(){o.parentNode.removeChild(o)}),document.body.appendChild(o)}}window.fathom=function(){var t=[].slice.call(arguments),e=t.shift();n[e].apply(this,t)},t.forEach(t=>fathom.apply(this,t))}();
